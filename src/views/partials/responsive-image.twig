{#
  Responsive Image Partial

  Usage:
  {% include 'partials/responsive-image.twig' with {
    image_id: 123,
    class: 'custom-class',
    lazy: true,
    custom_sizes: ['custom-size-1', 'custom-size-2']
  } %}

  Parameters:
  - image_id: WordPress image attachment ID (required)
  - class: Additional CSS classes (optional)
  - lazy: Whether to use lazy loading (default: true)
  - custom_sizes: Array of custom image sizes to include (optional)
  - img_class: CSS class for the img element (optional)
#}

{% set image_data = generateImageSrcset(image_id, custom_sizes|default([])) %}

{% if image_data %}
  <img
    src="{{ image_data.src }}"
    srcset="{{ image_data.srcset }}"
    sizes="{{ image_data.sizes }}"
    width="{{ image_data.width }}"
    height="{{ image_data.height }}"
    alt="{{ image_data.alt|default(image_data.title) }}"
    title="{{ image_data.title|default('') }}"
    loading="{{ lazy|default(true) ? 'lazy' : 'eager' }}"
    class="{{ img_class|default('') }} {{ class|default('') }}"
  />
{% endif %}
