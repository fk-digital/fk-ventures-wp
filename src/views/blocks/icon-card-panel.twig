{% extends 'block-layout.twig' %}
{% block block_content %}
  <div class="Container IconCardPanel--{{ fields.layout }}">
    <div class="IconCardPanel__Header">
      {% if fields.eyebrow %}
        <span class="IconCardPanel__Eyebrow SmallCaps AppearFadeMoveIn Delay">
          {{ fields.eyebrow }}
        </span>
      {% endif %}
      {% if fields.heading %}
        <h2 class="IconCardPanel__Title AppearFadeMoveIn Delay">
          {{ fields.heading }}
        </h2>
      {% endif %}
      {% if fields.copy %}
        <div class="IconCardPanel__Copy AppearFadeMoveIn Delay ugc">
          {{ fields.copy }}
        </div>
      {% endif %}
    </div>

    {% if fields.cards %}
      <ul
        class="IconCardPanel__Cards IconCardPanel__Cards--{{
        fields.cards_per_row
        }}"
      >
        {% for card in fields.cards %}
          <li class="IconCardPanel__Card IconCard AppearFadeMoveIn Delay">
            {% set image = get_image(card.icon) %}

            {% include 'partials/responsive-image.twig' with {
              image_id: image.id,
              class: 'IconCard__Icon'
            } %}

            {% if card.heading %}
              <h3 class="IconCard__Title h5">{{ card.heading }}</h3>
            {% endif %}
            {% if card.copy %}
              <p class="IconCard__Copy">
                {{ card.copy }}
              </p>
            {% endif %}
            {% if card.link %}
              {% include 'partials/button.twig' with {
                button: card.link,
                buttonArrow: false,
                buttonHollow: false
              } %}
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
{% endblock %}
